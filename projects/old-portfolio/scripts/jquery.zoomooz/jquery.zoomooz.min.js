function Matrix(){}var Sylvester={version:"0.1.3",precision:1e-6};Matrix.prototype={dup:function(){return Matrix.create(this.elements)},canMultiplyFromLeft:function(n){var t=n.elements||n;return t[0][0]===void 0&&(t=Matrix.create(t).elements),this.elements[0].length==t.length},multiply:function(n){var a=n.modulus?!0:!1,t=n.elements||n;if(t[0][0]===void 0&&(t=Matrix.create(t).elements),!this.canMultiplyFromLeft(t))return null;var i,r,u,f,e,o,s=this.elements.length,v=s,c=t[0].length,l=this.elements[0].length,h=[];do{i=v-s;h[i]=[];r=c;do{u=c-r;f=0;e=l;do o=l-e,f+=this.elements[i][o]*t[o][u];while(--e);h[i][u]=f}while(--r)}while(--s);return t=Matrix.create(h),a?t.col(1):t},isSquare:function(){return this.elements.length==this.elements[0].length},toRightTriangular:function(){var r,n,u,i,t=this.dup(),e=this.elements.length,o=e,f=this.elements[0].length,s;do{if(n=o-e,0===t.elements[n][n])for(j=n+1;o>j;j++)if(0!==t.elements[j][n]){r=[];u=f;do i=f-u,r.push(t.elements[n][i]+t.elements[j][i]);while(--u);t.elements[n]=r;break}if(0!==t.elements[n][n])for(j=n+1;o>j;j++){s=t.elements[j][n]/t.elements[n][n];r=[];u=f;do i=f-u,r.push(n>=i?0:t.elements[j][i]-t.elements[n][i]*s);while(--u);t.elements[j]=r}}while(--e);return t},determinant:function(){if(!this.isSquare())return null;var n,t=this.toRightTriangular(),r=t.elements[0][0],i=t.elements.length-1,u=i;do n=u-i+1,r*=t.elements[n][n];while(--i);return r},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(n){var t=n.elements||n;t[0][0]===void 0&&(t=Matrix.create(t).elements);var u,f,e,i=this.dup(),s=i.elements[0].length,r=i.elements.length,h=r,o=t[0].length;if(r!=t.length)return null;do{u=h-r;f=o;do e=o-f,i.elements[u][s+e]=t[u][e];while(--f)}while(--r);return i},inverse:function(){if(!this.isSquare()||this.isSingular())return null;var n,i,r,u,f,c,s,e=this.elements.length,l=e,t=this.augment(Matrix.I(e)).toRightTriangular(),o=t.elements[0].length,h=[];do{n=e-1;f=[];r=o;h[n]=[];c=t.elements[n][n];do u=o-r,s=t.elements[n][u]/c,f.push(s),u>=l&&h[n].push(s);while(--r);for(t.elements[n]=f,i=0;n>i;i++){f=[];r=o;do u=o-r,f.push(t.elements[i][u]-t.elements[n][u]*t.elements[i][n]);while(--r);t.elements[i]=f}}while(--e);return Matrix.create(h)},setElements:function(n){var t,i=n.elements||n,r,o,e,u,s,f,h;if(i[0][0]!==void 0){u=i.length;s=u;this.elements=[];do{t=s-u;r=i[t].length;o=r;this.elements[t]=[];do e=o-r,this.elements[t][e]=i[t][e];while(--r)}while(--u);return this}f=i.length;h=f;this.elements=[];do t=h-f,this.elements.push([i[t]]);while(--f);return this}};Matrix.create=function(n){var t=new Matrix;return t.setElements(n)};Matrix.I=function(n){var t,i,r,u=[],f=n;do{t=f-n;u[t]=[];i=f;do r=f-i,u[t][r]=t==r?1:0;while(--i)}while(--n);return Matrix.create(u)};PureCSSMatrix=function(){"use strict";function n(n){n&&null!==n&&"none"!=n?n instanceof Matrix?this.setMatrix(n):this.setMatrixValue(n):this.m=Matrix.I(3)}function r(n){var t=parseFloat(i(n));return n.match(u)&&(t=2*Math.PI*t/360),t}function i(n){return n.match(f)}function t(n){return Number(n).toFixed(6)}var u=/deg$/,f=/([0-9.\-e]+)/g,e=/([a-zA-Z]+)\(([^\)]+)\)/g;return n.prototype.setMatrix=function(n){this.m=n},n.prototype.setMatrixValue=function(n){for(var s,u,f,t,c,h,o=Matrix.I(3);null!==(s=e.exec(n));)f=s[1].toLowerCase(),t=s[2].split(","),"matrix"==f?u=Matrix.create([[parseFloat(t[0]),parseFloat(t[2]),parseFloat(i(t[4]))],[parseFloat(t[1]),parseFloat(t[3]),parseFloat(i(t[5]))],[0,0,1]]):"translate"==f?(u=Matrix.I(3),u.elements[0][2]=parseFloat(i(t[0])),u.elements[1][2]=parseFloat(i(t[1]))):"scale"==f?(h=parseFloat(t[0]),c=t.length>1?parseFloat(t[1]):h,u=Matrix.create([[h,0,0],[0,c,0],[0,0,1]])):"rotate"==f?u=Matrix.RotationZ(r(t[0])):"skew"==f||"skewx"==f?(u=Matrix.I(3),u.elements[0][1]=Math.tan(r(t[0]))):"skewy"==f?(u=Matrix.I(3),u.elements[1][0]=Math.tan(r(t[0]))):console.log("Problem with setMatrixValue",f,t),o=o.multiply(u);this.m=o},n.prototype.multiply=function(t){return new n(this.m.multiply(t.m))},n.prototype.inverse=function(){return 1e-6>Math.abs(this.m.elements[0][0])&&(this.m.elements[0][0]=0),new n(this.m.inverse())},n.prototype.translate=function(t,i){var r=Matrix.I(3);return r.elements[0][2]=t,r.elements[1][2]=i,new n(this.m.multiply(r))},n.prototype.scale=function(t,i){var r=Matrix.create([[t,0,0],[0,i,0],[0,0,1]]);return new n(this.m.multiply(r))},n.prototype.rotate=function(t){var i=Matrix.RotationZ(t);return new n(this.m.multiply(i))},n.prototype.toString=function(){var n=this.m.elements,i="";return($.browser.mozilla||$.browser.opera)&&(i="px"),"matrix("+t(n[0][0])+", "+t(n[1][0])+", "+t(n[0][1])+", "+t(n[1][1])+", "+t(n[0][2])+i+", "+t(n[1][2])+i+")"},n.prototype.elements=function(){var n=this.m.elements;return{a:n[0][0],b:n[1][0],c:n[0][1],d:n[1][1],e:n[0][2],f:n[1][2]}},n}();$.zoomooz||($.zoomooz={});$.zoomooz.helpers=function(n,t){"use strict";var i=["-moz-","-webkit-","-o-","-ms-"];return t.forEachPrefix=function(n,t){for(var r=0;i.length>r;r++)n(i[r]);t&&n("")},t.getElementTransform=function(i){var r;return t.forEachPrefix(function(t){r=r||n(i).css(t+"transform")},!0),r},t}(jQuery,{}),function(n){"use strict";function f(n,i,r){var u={},f,e;return(l.forEachPrefix(function(t){u[t+"transform"]=n},!0),i)&&(f=t(i/1e3,6)+"s",u["-webkit-transition-duration"]=f,u["-o-transition-duration"]=f,u["-moz-transition-duration"]=f),r&&(e=v(r),u["-webkit-transition-timing-function"]=e,u["-o-transition-timing-function"]=e,u["-moz-transition-timing-function"]=e),u}function a(n,t,u,f,e,s){t||(t=r(new PureCSSMatrix));c=(new Date).getTime();i&&(clearInterval(i),i=null);f.easing&&(f.easingfunction=y(f.easing,f.duration));o(n,t,u,f,e);s&&s();i=setInterval(function(){o(n,t,u,f,e)},1)}function o(n,t,r,u,o){var s,h=(new Date).getTime()-c;s=u.easingfunction?u.easingfunction(h/u.duration):h/u.duration;n.css(f(e(b(t,r,s))));h>u.duration&&(clearInterval(i),i=null,s=1,o&&o())}function r(n){var e=n.elements(),t=e.a,i=e.b,r=e.c,u=e.d,c=e.e,l=e.f,s,f,h;if(.01>Math.abs(t*u-i*r))return console.log("fail!"),void 0;var a=c,v=l,o=Math.sqrt(t*t+i*i);return t/=o,i/=o,s=t*r+i*u,r-=t*s,u-=i*s,f=Math.sqrt(r*r+u*u),r/=f,u/=f,s/=f,0>t*u-i*r&&(t=-t,i=-i,r=-r,u=-u,o=-o,f=-f),h=Math.atan2(i,t),{tx:a,ty:v,r:h,k:Math.atan(s),sx:o,sy:f}}function e(n){var i="";return i+="translate("+t(n.tx,6)+"px,"+t(n.ty,6)+"px) ",i+="rotate("+t(n.r,6)+"rad) skewX("+t(n.k,6)+"rad) ",i+("scale("+t(n.sx,6)+","+t(n.sy,6)+")")}function v(n){return n instanceof Array?"cubic-bezier("+t(n[0],6)+","+t(n[1],6)+","+t(n[2],6)+","+t(n[3],6)+")":n}function y(n,t){var i=[];if(n instanceof Array)i=n;else switch(n){case"linear":i=[0,0,1,1];break;case"ease":i=[.25,.1,.25,1];break;case"ease-in":i=[.42,0,1,1];break;case"ease-out":i=[0,0,.58,1];break;case"ease-in-out":i=[.42,0,.58,1]}return function(n){return p(n,i[0],i[1],i[2],i[3],t)}}function p(n,t,i,r,u,f){function l(n){return((h*n+o)*n+e)*n}function v(n){return((a*n+c)*n+s)*n}function y(n){return(3*h*n+2*o)*n+e}function p(n){return 1/(200*n)}function w(n,t){return v(b(n,t))}function b(n,t){function e(n){return n>=0?n:0-n}for(var r,u,f,o,i=n,s=0;8>s;s++){if(f=l(i)-n,t>e(f))return i;if(o=y(i),1e-6>e(o))break;i-=f/o}if(r=0,u=1,i=n,r>i)return r;if(i>u)return u;for(;u>r;){if(f=l(i),t>e(f-n))return i;n>f?r=i:u=i;i=.5*(u-r)+r}return i}var h=0,o=0,e=0,a=0,c=0,s=0;return e=3*t,o=3*(r-t)-e,h=1-e-o,s=3*i,c=3*(u-i)-s,a=1-s-c,w(n,p(f))}function s(n,t){var i,u=l.getElementTransform(n),f;return i=u?new PureCSSMatrix(u):new PureCSSMatrix,t&&(i=i.translate(t.x,t.y)),f=r(i),f.r=w(u),f}function w(n){for(var t,u,o,s,e,f,i=0;null!==(t=g.exec(n));)u=t[1].toLowerCase(),o=t[2].split(","),"matrix"==u?(s=u+"("+t[2]+")",i+=r(new PureCSSMatrix(s)).r):"rotate"==u&&(e=o[0],f=parseFloat(k(e)),e.match(nt)&&(f=2*Math.PI*f/360),i+=f);return i}function h(n,t){if(Math.abs(n.r-t.r)>Math.PI)if(t.r<n.r)for(;Math.abs(n.r-t.r)>Math.PI;)t.r+=2*Math.PI;else for(;Math.abs(n.r-t.r)>Math.PI;)t.r-=2*Math.PI;return t}function b(n,t,i){var u={};for(var r in n)n.hasOwnProperty(r)&&(u[r]=n[r]+(t[r]-n[r])*i);return u}function t(n,t){t=Math.abs(parseInt(t,10))||0;var i=Math.pow(10,t);return Math.round(n*i)/i}function k(n){return n.match(d)}var c,i,u,d=/([0-9.\-e]+)/g,g=/([a-z]+)\(([^\)]+)\)/g,nt=/deg$/,l=n.zoomooz.helpers,tt={duration:450,easing:"ease",nativeanimation:!1};jQuery.cssHooks.MsTransform={set:function(n,t){n.style.msTransform=t}};jQuery.cssHooks.MsTransformOrigin={set:function(n,t){n.style.msTransformOrigin=t}};n.fn.animateTransformation=function(t,i,o,c,l){i=jQuery.extend({},tt,i);u&&(clearTimeout(u),u=null);i.nativeanimation&&c&&(u=setTimeout(c,i.duration));this.each(function(){var u=n(this),v,y;t||(t=new PureCSSMatrix);v=s(u,o);y=h(v,r(t));i.nativeanimation?(u.css(f(e(y),i.duration,i.easing)),l&&l()):a(u,v,y,i,c,l)})};n.fn.setTransformation=function(t){this.each(function(){var i=n(this),u=s(i),o=h(u,r(t));i.css(f(e(o)))})}}(jQuery),function(n){"use strict";function h(t,i){var o=jQuery.extend({},i),r,f,u,e;n.zoomooz.defaultSettings||n.zoomooz.setup();f=n.zoomooz.defaultSettings;u=jQuery.extend({},o);for(r in f)f.hasOwnProperty(r)&&!u[r]&&(u[r]=t.data(r));for(e=0;s.length>e;e++)r=s[e],u[r]||(u[r]=t.data(r));return jQuery.extend({},f,u)}function c(){var t=document.createElement("style"),i;t.type="text/css";i="";u.forEachPrefix(function(n){i+=n+"transform-origin: 0 0;"},!0);t.innerHTML="html {height:100%;}.noScroll{overflow:hidden !important;}* {"+i+"}";document.getElementsByTagName("head")[0].appendChild(t);n(document).ready(function(){var i=window.innerWidth-n("body").width();t.innerHTML+="body.noScroll,html.noScroll body{margin-right:"+i+"px;}"})}function l(){var t={targetsize:.9,scalemode:"both",root:n(document.body),debug:!1,animationendcallback:null,closeclick:!1},i=void 0!==window.mozInnerScreenX;return t.scrollresetbeforezoom=i,t}function a(t,i){var l,u=i.scrollresetbeforezoom,r=null,h,s,o,a,c;(function(){var n=i.root,e=n.parent();t[0]===n[0]?r=f(n,e):n.data("original-scroll")?u||(r=f(n,e)):(l=!0,r=v(n,e,u))})();s=null;y(i.root);o=null;t[0]!==i.root[0]?(a=e(t,i.root).inverse(),u||(o=r),h=p(t,a,o,i),i.animationendcallback&&(s=function(){i.animationendcallback.call(t[0])})):(u&&(h=(new PureCSSMatrix).translate(-r.x,-r.y)),s=function(){var e=n(i.root),f=r.elem;f.removeClass("noScroll");e.setTransformation(new PureCSSMatrix);e.data("original-scroll",null);n(document).off("touchmove");u&&(f[0]==document.body||f[0]==window?window.scrollTo(r.x,r.y):(f.scrollLeft(r.x),f.scrollTop(r.y)));i.animationendcallback&&i.animationendcallback.call(t[0])});c=null;u&&r&&r.animationstartedcallback&&(c=r.animationstartedcallback);l||(o=!1);n(i.root).animateTransformation(h,i,o,s,c)}function f(n,t){var i=n.data("original-scroll");return i||(i={elem:t,x:0,"y:":0}),i}function v(t,i,r){var e=t.scrollTop(),s=t.scrollLeft(),f=t,o,h;return e||(e=i.scrollTop(),s=i.scrollLeft(),f=i),o={elem:f,x:s,y:e},t.data("original-scroll",o),n(document).on("touchmove",function(n){n.preventDefault()}),h="translate(-"+s+"px,-"+e+"px)",u.forEachPrefix(function(n){t.css(n+"transform",h)}),f.addClass("noScroll"),r&&(o.animationstartedcallback=function(){f[0]==document.body||f[0]==document?window.scrollTo(0,0):(f.scrollLeft(0),f.scrollTop(0))}),o}function y(t){var i=n(t).parent(),r=i.width(),f=i.height(),e=r/2,s=f/2,h=o(e)+"px "+o(s)+"px";u.forEachPrefix(function(n){t.css(n+"transform-origin",h)})}function p(t,i,r,u){var f,e=u.targetsize,o=u.scalemode,s=u.root,a=n(s).parent(),h=a.width(),c=a.height(),v=h/t.outerWidth(),y=c/t.outerHeight();if("width"==o)f=e*v;else if("height"==o)f=e*y;else if("both"==o)f=e*Math.min(v,y);else{if("scale"!=o)return console.log("wrong zoommode"),void 0;f=e}var b=(h-t.outerWidth()*f)/2,k=(c-t.outerHeight()*f)/2,p=h/2,w=c/2,d=-parseFloat(s.css("margin-left"))||0,g=-parseFloat(s.css("margin-top"))||0,l=new PureCSSMatrix;return r&&(l=l.translate(r.x,r.y)),l.translate(d,g).translate(-p,-w).translate(b,k).scale(f,f).multiply(i).translate(p,w)}function t(n,t,i){return[n.a*t+n.c*i+n.e,n.b*t+n.d*i+n.f]}function w(n,r){var u=e(n,r.root).elements();i(t(u,0,0));i(t(u,0,n.outerHeight()));i(t(u,n.outerWidth(),n.outerHeight()));i(t(u,n.outerWidth(),0))}function i(t){var i="width:4px;height:4px;background-color:red;position:absolute;margin-left:-2px;margin-top:-2px;",r;i+="left:"+t[0]+"px;top:"+t[1]+"px;";r='<div class="debuglabel" style="'+i+'"><\/div>';n("#debug").append(r)}function e(t,i){var u=t[0],a,o,p,s,g;if(!u||!u.ownerDocument)return null;if(o=new PureCSSMatrix,u===u.ownerDocument.body)return p=jQuery.offset.bodyOffset(u),a=new PureCSSMatrix,a=a.translate(p.left,p.top),o=o.multiply(a);jQuery.offset.initialize?(jQuery.offset.initialize(),s={fixedPosition:jQuery.offset.supportsFixedPosition,doesNotAddBorder:jQuery.offset.doesNotAddBorder,doesAddBorderForTableAndCells:jQuery.support.doesAddBorderForTableAndCells,subtractsBorderForOverflowNotVisible:jQuery.offset.subtractsBorderForOverflowNotVisible}):s=jQuery.support;var h,l,b=u.offsetParent,w=u.ownerDocument,k=w.documentElement,v=w.body,d=i[0],y=w.defaultView;l=y?y.getComputedStyle(u,null):u.currentStyle;var f=u.offsetTop,e=u.offsetLeft,c=r().translate(e,f);for(c=c.multiply(r(u)),o=c.multiply(o);(u=u.parentNode)&&u!==d&&(f=0,e=0,!s.fixedPosition||"fixed"!==l.position);)h=y?y.getComputedStyle(u,null):u.currentStyle,f-=u.scrollTop,e-=u.scrollLeft,u===b&&(f+=u.offsetTop,e+=u.offsetLeft,!s.doesNotAddBorder||s.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(u.nodeName)||(f+=parseFloat(h.borderTopWidth)||0,e+=parseFloat(h.borderLeftWidth)||0),b=u.offsetParent),s.subtractsBorderForOverflowNotVisible&&"visible"!==h.overflow&&(f+=parseFloat(h.borderTopWidth)||0,e+=parseFloat(h.borderLeftWidth)||0),l=h,u.offsetParent==d&&(f-=parseFloat(n(u.offsetParent).css("margin-top"))||0,e-=parseFloat(n(u.offsetParent).css("margin-left"))||0),c=r().translate(e,f),c=c.multiply(r(u)),o=c.multiply(o);return f=0,e=0,("relative"===l.position||"static"===l.position)&&(f+=v.offsetTop,e+=v.offsetLeft),s.fixedPosition&&"fixed"===l.position&&(f+=Math.max(k.scrollTop,v.scrollTop),e+=Math.max(k.scrollLeft,v.scrollLeft)),g=(new PureCSSMatrix).translate(e,f),o.multiply(g)}function o(n){return Number(n).toFixed(6)}function r(n){var t=u.getElementTransform(n);return t?new PureCSSMatrix(t):new PureCSSMatrix}var u=n.zoomooz.helpers,s=["duration","easing","nativeanimation"];c();n.zoomooz||(n.zoomooz={});n.zoomooz.setup=function(t){n.zoomooz.defaultSettings=jQuery.extend(l(),t)};n.fn.zoomSettings=function(t){var i;return this.each(function(){var r=n(this);i=h(r,t)}),i};n.fn.zoomTo=function(t,i){return this.each(function(){var r=n(this);i||(t=r.zoomSettings(t));a(r,t);t.debug?(0===n("#debug").length?n(t.root).append('<div id="debug"><div>'):n("#debug").html(""),w(r,t)):0!==n("#debug").length&&n("#debug").html("")}),this}}(jQuery),function(n){"use strict";function t(i,r,u){var o,f,e;i.addClass("zoomTarget");u.animationendcallback||(u.animationendcallback=u.closeclick?function(){n(".selectedZoomTarget").removeClass("selectedZoomTarget zoomNotClickable");i.addClass("selectedZoomTarget")}:function(){n(".selectedZoomTarget").removeClass("selectedZoomTarget zoomNotClickable");i.addClass("selectedZoomTarget zoomNotClickable")});o=r.closest(".zoomContainer");0!==o.length&&(u.root=o);f=u.root;f.hasClass("zoomTarget")||(e=f.zoomSettings({}),e.animationendcallback=function(){var t=n(this);n(".selectedZoomTarget").removeClass("selectedZoomTarget zoomNotClickable");t.addClass("selectedZoomTarget zoomNotClickable");t.parent().addClass("selectedZoomTarget zoomNotClickable")},t(f,f,e),t(f.parent(),f,e),f.click());i.on("click",function(n){u.closeclick&&r.hasClass("selectedZoomTarget")?u.root.click():r.zoomTo(u);n.stopPropagation()})}function i(){function t(n){var t="-webkit-touch-callout: "+(n?"default":"none")+";";return r.forEachPrefix(function(i){t+=i+"user-select:"+(n?"text":"none")+";"},!0),t}var n=document.createElement("style");n.type="text/css";n.innerHTML=".zoomTarget{"+t(!1)+"}.zoomTarget:hover{cursor:pointer!important;}.zoomNotClickable{"+t(!0)+"}.zoomNotClickable:hover{cursor:auto!important;}.zoomContainer{position:relative;padding:1px;margin:-1px;}";document.getElementsByTagName("head")[0].appendChild(n)}n.zoomooz||(n.zoomooz={});var r=n.zoomooz.helpers;n.fn.zoomTarget=function(i){this.each(function(){var r=n(this).zoomSettings(i);t(n(this),n(this),r)})};i();n(document).ready(function(){n(".zoomTarget").zoomTarget()})}(jQuery),function(n){"use strict";n.zoomooz||(n.zoomooz={});n.fn.zoomContainer=function(){};n(document).ready(function(){n(".zoomContainer").zoomContainer()})}(jQuery),function(n){function t(t,r){var f=i(),e=jQuery.extend({},r);for(var u in f)f.hasOwnProperty(u)&&!e[u]&&(e[u]=f[u]instanceof jQuery?n(t.data(u)):t.data(u));return jQuery.extend({},f,e)}function i(){return{type:"next",root:n(document.body),wrap:"true"}}function r(n,t){var r,i;n.addClass("zoomButton");r=t.root.hasClass("zoomContainer")?t.root:t.root.find(".zoomContainer");i=function(){function t(t){return n.indexOf(t)}function i(i){var r=t(i)+1;return n.length>r&&0!==r?n[r]:null}function u(i){var r=t(i)-1;return 0>r?null:n[r]}function f(){return n[0]}function e(){return n[n.length-1]}var n=jQuery.makeArray(r.find(".zoomTarget"));return{next:i,prev:u,last:e,first:f}}();n.on("click",function(n){var u,e=!0,f=r.find(".selectedZoomTarget");0===f.length&&(f=i.first());0===t.type.indexOf("prev")?(u=i.prev(f[0]),null===u&&(t.wrap?u=i.last():e=!1)):(u=i.next(f[0]),null===u&&(t.wrap?u=i.first():e=!1));e&&u.click();n.stopPropagation()})}n.zoomooz||(n.zoomooz={});n.zoomooz.helpers;n.fn.zoomButton=function(i){this.each(function(){var u=t(n(this),i);r(n(this),u)})};n(document).ready(function(){n(".zoomButton").zoomButton()})}(jQuery);
/*
//# sourceMappingURL=jquery.zoomooz.min.js.map
*/