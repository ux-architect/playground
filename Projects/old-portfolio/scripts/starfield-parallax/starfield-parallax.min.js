(function(n){var r,t,i;n.fn.starscroll=function(u,f,e,o,s,h,c,l){var y=n(this),v=i.any(),a=new t(y,v,u,f,e,o,s,h,c,l);return window.addEventListener("scroll",function(){a.parallax()},!1),l&&!v&&(r=setInterval(function(){a.time+=5;a.parallax()},25)),this.el};n.fn.destroy=function(){cleraInterval(r)};t=function(t,i,r,u,f,e,o,s,h,c){this.el=t;this.levels=u>10?10:u;this.layers=[];this.dimension=e>20?20:e;this.density=f;this.colour=s?s:[255,255,255];this.hue=h?h:!1;this.bit=r?r:!1;this.time=0;this.anim=c;this.smooth=o>5||!0?5:o;var l,a=n(window).width(),v,y=n(window).width();l=a>700?700:a;v=y>600?650:y;this.w=l;this.h=v;i||this.init()};t.prototype.init=function(){for(var n=0;n<this.levels;n++)this.layers[n]=this.buildlayers(n);this.images=this.createStars();this.applyImages(this.images)};t.prototype.buildlayers=function(t){var i={},r=document.createElement("canvas"),f=r.getContext("2d"),u;return r.width=this.w,r.height=this.h,u=n('<div id="starchild'+t+'"/>'),this.buildDOMels(u,t),i.canvas=r,i.context=f,i.DOM=u,i};t.prototype.createStars=function(){for(var t,i=[],n=0;n<this.levels;n++){var r=this.layers[n].canvas,u=this.layers[n].context,f=this.hsl(this.colour);for(t=0;t<this.density;t++)this.drawStar(u,n,f);i[n]=this.convertCanvasToImage(r)}return i};t.prototype.drawStar=function(n,t,i){var h=this.dimension/(t*.075+1),r=Math.random()*h,u=0,f=0,c=Math.random()*r*.9,o=this.hue?this.colstep(i):this.colour,e,s;u=this.boundary("x",r);f=this.boundary("y",r);e=n.createRadialGradient(u,f,c,u,f,r);s=.7+Math.random()*.3;e.addColorStop(0,"rgba(255,255,255,.9)");o&&e.addColorStop(.5,"rgba("+o+",.8)");e.addColorStop(1,"rgba(255,255,255,0)");n.beginPath();this.bit==8||!1?(n.fillRect(u,f,r,r),n.fillStyle="rgba(255,255,255,"+s+")"):(n.arc(u,f,r,0,Math.PI*2,!0),n.globalAlpha=.7+Math.random()*.3,n.fillStyle=e);n.fill()};t.prototype.colstep=function(n){return n[0]=n[0]-~~(Math.random()*4)+~~(Math.random()*8),this.rgb(n)};t.prototype.boundary=function(n,t){var r=t,u=0,i;return n=="x"?(i=Math.random()*this.w,u=i,i<r?u=i+r+Math.random()*t:i>this.w-r&&(u=i-r-Math.random()*t),u):(i=Math.random()*this.h,u=i,i<r?u=i+r+Math.random()*t:i>this.h-r&&(u=i-r-Math.random()*t),u)};t.prototype.applyImages=function(n){for(var i,r,t=0;t<this.levels;t++)i=this.layers[t].DOM,r=n[t].src,i.css({"background-image":"url("+r+")"})};t.prototype.parallax=function(){for(var t,i,r=window.pageYOffset-this.time,n=0;n<this.levels;n++)t=this.layers[n].DOM,i=-r*((n+1)/2),t.css({"background-position":"0 "+i+"px"})};t.prototype.buildDOMels=function(n){this.el.append(n);var t="5s";this.anim&&(t="0s");this.el.css({position:"fixed","z-index":-1,top:0,width:"100%",height:"100%"});n.css({transition:"all "+t+" cubic-bezier(0.230, 1.000, 0.320, 1.000)",position:"fixed",width:"100%",height:"100%","background-repeat":"repeat","background-color":"transparent"})};t.prototype.convertCanvasToImage=function(n){var t=new Image;return t.src=n.toDataURL("image/png"),t};t.prototype.hsl=function(n){var u=n[0]/255,f=n[1]/255,e=n[2]/255,t=Math.max(u,f,e),i=Math.min(u,f,e),o=(t+i)/2,s=0,r=0;return t!=i&&(s=o<.5?(t-i)/(t+i):(t-i)/(2-t-i),r=u==t?(f-e)/(t-i):f==t?2+(e-u)/(t-i):4+(u-f)/(t-i)),o=o*100,s=s*100,r=r*60,r<0&&(r+=360),[r,s,o]};t.prototype.rgb=function(n){var h=n[0],i=n[1],t=n[2],u,r,f,e,o,s;return i/=100,t/=100,i==0?e=o=s=t*255:(r=t<=.5?t*(i+1):t+i-t*i,u=t*2-r,f=h/360,e=this.hue2rgb(u,r,f+1/3),o=this.hue2rgb(u,r,f),s=this.hue2rgb(u,r,f-1/3)),[Math.round(e),Math.round(o),Math.round(s)]};t.prototype.hue2rgb=function(n,t,i){var r;return i<0?i+=1:i>1&&(i-=1),r=6*i<1?n+(t-n)*i*6:2*i<1?t:3*i<2?n+(t-n)*(2/3-i)*6:n,255*r};i={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.Android()||i.BlackBerry()||i.iOS()||i.Opera()||i.Windows()}}})(jQuery);
/*
//# sourceMappingURL=starfield-parallax.min.js.map
*/